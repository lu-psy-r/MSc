---
title: Week 00. Writing reproducible reports using Quarto
subtitle: Written by Rob Davies
order: 12
bibliography: references.bib
csl: psychological-bulletin.csl
---

# Writing reproducible reports using Quarto {#sec-quarto-overview}

```{r}
#| label: get-libraries
#| echo: false
#| message: false
#| warning: false

# get libraries
library(bayesplot)
library(brms)
library(broom.mixed)
library(corrplot)
library(dotwhisker)
library(GGally)
library(ggcorrplot)
library(ggdist)
library(grateful)
library(gt)
library(here)
library(kableExtra)
library(patchwork)
library(psych)
library(tidybayes)
library(tidyverse)
```

## What is this? {#sec-quarto-overview-what}

I am sharing materials here to support the development of skills in producing reproducible reports using Quarto.

These materials should provide a quick entry to the what, why and how.

You can write in Quarto, in R-Studio (or any code editor), to produce:

- reports or manuscripts;
- presentations;
- books;
- webpages.

Here, we are going to focus on reports that will be output as `.docx`.

::: callout-tip
What we are engaged in, here, is writing a combination of text and (here, R) code to generate a document.

This idea is old --- see: e.g., Donald Knuth (who developed LaTex): <https://www-cs-faculty.stanford.edu/~knuth/lp.html>

But Quarto is a modern, efficient, way to do a powerful thing easily and efficiently.
:::

### Related materials {#sec-quarto-overview-related}

Quarto was developed by Posit (formerly: R-Studio).

::: callout-tip
You can find the Posit guide to Quarto here:

<https://quarto.org/docs/get-started/hello/rstudio.html>
:::

### Pre-requisites {#sec-quarto-overview-pre-requisites}

1. Before you get started, you will need a local installation of R and R-Studio.

- Install R first, following the instructions here:

<https://cran.r-project.org/>

- Then install R, see:

<https://posit.co/download/rstudio-desktop/>

You need to do the installation in that order because R-Studio is the interface (an *Interactive Development Editor (IDE)*) but R does the work.

2. It is probably worth your time having a skim of the "hello world" quick start guide:

<https://quarto.org/docs/get-started/hello/rstudio.html>

## Motivations: why bother? {#sec-quarto-overview-why}

There are at least the following justifications for investing time in this (in no particular order):

1. Reproducible manuscripts: create documents that incorporate text, computation or plotting code, and bibliographic information in one place so that you can avoid the risks of the standard workflow:

- Risks: lose track of what data underlie which calculations or plots or table summaries.

2. Automate the boring stuff: figure, table or section cross-referencing; producing documents in different formats; generating bibliographies.

3. Make manuscripts or presentations or notes share-able: Quarto is free so removes barrier to entry presented by licensed software like MS Word.

4. Make nice things: plots and tables will look better.

## Quick start {#sec-quarto-quick-start}

Open R-Studio.

Click on the menu buttons: 

1. `File` $\rightarrow$ `New File` $\rightarrow$ `Quarto Document...`
2. A menu box will open: click on the `Word` radio button, and the `Create` button.

![New Create Document menu box](file-create-document.png)

If you do that, you will see this file open:

![A new `.qmd` file](word-quarto.png)

3. See that `Render` button at the top of the window? Click on it.

- You will be asked to give the file a name. Name it.

This action will create a Quarto script file, a `.qmd` and will generate a Word `.docx`.

The whole script looks like this:

![A new `.qmd` file: dummy file](dummy-qmd.png)

And the `.docx` looks like this:

![A new `.qmd` file: dummy file output](dummy-qmd-docx-output.png)

### Basic anatomy {#sec-quarto-quick-start}

This example shows you the main parts of a Quarto file. Let's identify these parts before we move on:

1. The `yaml` at the top is where you set document options:

```{}
---
title: "Untitled"
format: docx
editor: visual
---
```

Usually, this will be where you specify what output formats you want, whether you want a ToC, and (for APA 7 documents) it will be where you add author, title and abstract information, see more information here:

<https://quarto.org/docs/output-formats/ms-word.html>

2. You have section titles:

```{}
## Quarto
```

Notice the `##` -- the more hash signs you add, the lower the section title in the section hierarchy.

3. You have plain text:

```{}
Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see <https://quarto.org>.
```

4. And you have computing code --- *chunks*:

```{r}
#| echo: fenced
#| label: example
1 + 1
```

The tick marks are at the top and bottom of the chunks tell R to read the code and work with it.

Notice that you can specify the identity (for cross-referencing) and the behaviour or appearance of the code at the top of the chunk.

## Let's write a report {#sec-quarto-report-first}

In writing reports, we are often going to want to do tasks like:

1. Get sample data and show:

- Distributions or other preliminary information to characterise samples.

2. Fit a model.

- Present a table summary of the model estimates.
- Present a plot showing model predictions.

3. Cross-reference figures, tables and sections.

We look at how to do these things next.

















### References

::: {#refs}
:::