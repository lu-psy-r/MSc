<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Week 11. Recap of the linear model and practising data-wrangling in R – Statistics for Psychologists</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../PSYC412/part1/Week12.html" rel="next">
<link href="../../PSYC411/part2/lm-dev.html" rel="prev">
<link href="../../Images/favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script>window.onload = function() {document.getElementById("autocomplete-0-input").placeholder = "Search MSc";};</script>
<script language="JavaScript" type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">


<link rel="stylesheet" href="https://lu-psy-r.github.io/essentials/index_24.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="https://lu-psy-r.github.io/">
    <span class="navbar-title">Statistics for Psychologists</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://lu-psy-r.github.io/"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://lu-psy-r.github.io/year1/index.html"> 
<span class="menu-text">Year 1</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://lu-psy-r.github.io/year2/index.html"> 
<span class="menu-text">Year 2</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://lu-psy-r.github.io/year3/index.html"> 
<span class="menu-text">Year 3</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://lu-psy-r.github.io/MSc/index.html"> 
<span class="menu-text">MSc</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://lu-psy-r.github.io/more/index.html"> 
<span class="menu-text">And More…</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../PSYC412/part1/Week11.html">PSYC412</a></li><li class="breadcrumb-item"><a href="../../PSYC412/part1/Week11.html">Week 11. Recap of the linear model and practising data-wrangling in R</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">PSYC411</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC411/part1/Week1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 1. Introducing Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC411/part1/Week2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 2. Manipulating data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC411/part1/Week3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 3. Drawing graphs from data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC411/part1/Week4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 4. Testing nominal data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC411/part1/Week5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 5. Testing differences between groups</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC411/part2/report-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 6. The structured research report – Quick start</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC411/part2/how.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 6. How you can do the analysis work</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC411/part2/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 6. Why we are asking you to do this</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC411/part2/hypotheses-associations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 7. Hypotheses and associations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC411/part2/lm-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 8. Introduction to the linear model</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC411/part2/visualization-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 9. Data visualization practices</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC411/part2/lm-dev.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 10. Developing the linear model</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">PSYC412</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC412/part1/Week11.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Week 11. Recap of the linear model and practising data-wrangling in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC412/part1/Week12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 12. Categorical predictors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC412/part1/Week13.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 13. More on interactions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC412/part1/Week14.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 14. Logistic regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PSYC412/part1/Week15.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 15. Poisson regression</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sec-wk11-lectures" id="toc-sec-wk11-lectures" class="nav-link active" data-scroll-target="#sec-wk11-lectures">Lectures</a></li>
  <li><a href="#sec-wk11-reading" id="toc-sec-wk11-reading" class="nav-link" data-scroll-target="#sec-wk11-reading">Reading</a>
  <ul class="collapse">
  <li><a href="#miller-haden-2013" id="toc-miller-haden-2013" class="nav-link" data-scroll-target="#miller-haden-2013">Miller &amp; Haden (2013)</a></li>
  <li><a href="#winter-2020" id="toc-winter-2020" class="nav-link" data-scroll-target="#winter-2020">Winter (2020)</a></li>
  </ul></li>
  <li><a href="#sec-wk11-pre-labactvities" id="toc-sec-wk11-pre-labactvities" class="nav-link" data-scroll-target="#sec-wk11-pre-labactvities">Pre-lab activities</a>
  <ul class="collapse">
  <li><a href="#pre-lab-activity-1-visualising-the-regression-line" id="toc-pre-lab-activity-1-visualising-the-regression-line" class="nav-link" data-scroll-target="#pre-lab-activity-1-visualising-the-regression-line">Pre-lab activity 1: Visualising the regression line</a></li>
  <li><a href="#pre-lab-activity-2-data-wrangling-in-r" id="toc-pre-lab-activity-2-data-wrangling-in-r" class="nav-link" data-scroll-target="#pre-lab-activity-2-data-wrangling-in-r">Pre-lab activity 2: Data-wrangling in R</a></li>
  <li><a href="#pre-lab-activity-3-getting-ready-for-the-lab-class" id="toc-pre-lab-activity-3-getting-ready-for-the-lab-class" class="nav-link" data-scroll-target="#pre-lab-activity-3-getting-ready-for-the-lab-class">Pre-lab activity 3: Getting ready for the lab class</a></li>
  </ul></li>
  <li><a href="#sec-wk11-labactivities" id="toc-sec-wk11-labactivities" class="nav-link" data-scroll-target="#sec-wk11-labactivities">Lab activities</a>
  <ul class="collapse">
  <li><a href="#lab-activity-1-interpreting-and-reporting-results" id="toc-lab-activity-1-interpreting-and-reporting-results" class="nav-link" data-scroll-target="#lab-activity-1-interpreting-and-reporting-results">Lab activity 1: Interpreting and reporting results</a></li>
  <li><a href="#lab-activity-2-conducting-simple-and-multiple-regression" id="toc-lab-activity-2-conducting-simple-and-multiple-regression" class="nav-link" data-scroll-target="#lab-activity-2-conducting-simple-and-multiple-regression">Lab activity 2: Conducting simple and multiple regression</a></li>
  </ul></li>
  <li><a href="#sec-wk11-answers" id="toc-sec-wk11-answers" class="nav-link" data-scroll-target="#sec-wk11-answers">Answers</a>
  <ul class="collapse">
  <li><a href="#lab-activity-1-interpreting-and-reporting-results-1" id="toc-lab-activity-1-interpreting-and-reporting-results-1" class="nav-link" data-scroll-target="#lab-activity-1-interpreting-and-reporting-results-1">Lab activity 1: Interpreting and reporting results</a></li>
  <li><a href="#lab-activity-2-conducting-simple-and-multiple-regression-1" id="toc-lab-activity-2-conducting-simple-and-multiple-regression-1" class="nav-link" data-scroll-target="#lab-activity-2-conducting-simple-and-multiple-regression-1">Lab activity 2: Conducting simple and multiple regression</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../PSYC412/part1/Week11.html">PSYC412</a></li><li class="breadcrumb-item"><a href="../../PSYC412/part1/Week11.html">Week 11. Recap of the linear model and practising data-wrangling in R</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Week 11. Recap of the linear model and practising data-wrangling in R</h1>
<p class="subtitle lead">Written by Margriet Groen (partly adapted from materials developed by the PsyTeachR team at the University of Glasgow)</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Before we start covering new material, we want to spent some time on recapping the basic concepts of the linear model (correlation, simple regression, multiple regression). You all come from different educational backgrounds and therefore have vastly different knowledge of, and experience with statistics. Therefore, please follow your own judgement as to whether you feel you want to/need to revisit material outlining the theoretical background to and the practical implementation in R for these topics. Below we provide some guidance as to materials that are relevant. <strong>Just to be clear: We don’t expect you to watch and/or read and/or do everything, please have a look at what you feel you need and spend some time with those materials.</strong></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>You’ll find links to the slides and transcripts underneath each video. You can also download them all at once <a href="Week11-files/412_week11_slidesAndTranscripts.zip">here</a></p>
</div>
</div>
<section id="sec-wk11-lectures" class="level2">
<h2 class="anchored" data-anchor-id="sec-wk11-lectures">Lectures</h2>
<p><strong>The linear model was discussed in weeks 7 to 10 of PSYC411, so that is a good place to start.</strong></p>
<p>Alternatively, if you don’t feel confident about the material, these recorded lectures might help.</p>
<ul>
<li><strong>The linear model: theory (~30 min)</strong> An introduction to the linear model and linear regression. I follow material as discussed in Chapter 4 of Bodo Winter’s book <em>Statistics for Linguists: An Introduction using R</em> (see below under ‘Reading’).</li>
</ul>
<iframe allow="autoplay; fullscreen" height="282" width="500" src="https://estream.lancaster.ac.uk/Embed.aspx?id=60909&amp;code=dR~mnPDLhRNfdGVfPKyVJpYRjz9BAoDKy" frameborder="0" allowfullscreen=""></iframe>
<p><a href="Week11-files/stats_linearModel_theory_slides.pdf">Slides</a> <a href="Week11-files/stats_linearModel_theory_transcript.txt">Transcript</a></p>
<ul>
<li><strong>How to build a linear model in R (~14 min)</strong> In this video I demonstrate how to build a linear model in R by talking you through a simple linear regression script (you can download it by clicking on the link below the video). If you are unclear on what different parts of the <code>lm()</code> function do, or how to read the output, this video might help clarify that.</li>
</ul>
<iframe allow="autoplay; fullscreen" height="282" width="500" src="https://estream.lancaster.ac.uk/Embed.aspx?id=72461&amp;code=dH~asTfLNKCEXURHjJKJ8GFxHJmIidNKr&amp;cc=1" frameborder="0" allowfullscreen=""></iframe>
<p><a href="Week11-files/stats_linearModel_howto_slides.pdf">Slides</a> <a href="Week11-files/stats_linearModel_howto_transcript.txt">Transcript</a> <a href="Week11-files/stats_linearModel_howTo.R">Example R-script</a></p>
<ul>
<li><strong>Multiple regression: theory (~35 min)</strong> An introduction to multiple regression. I follow material as discussed in Chapter 5 of Bodo Winter’s book <em>Statistics for Linguists: An Introduction using R</em> (see below under ‘Reading’).</li>
</ul>
<iframe allow="autoplay; fullscreen" height="282" width="500" src="https://estream.lancaster.ac.uk/Embed.aspx?id=60911&amp;code=dQ~LMA2a6GsIgNGJbjWPc6heaKTSdOb9c" frameborder="0" allowfullscreen=""></iframe>
<p><a href="Week11-files/stats_multipleRegression_theory_slides.pdf">Slides</a> <a href="Week11-files/stats_multipleRegression_theory_transcript.txt">Transcript</a></p>
<ul>
<li><strong>Centering and standardising (~5 min)</strong> Brief explanation of what centering and standardising are.</li>
</ul>
<iframe allow="autoplay; fullscreen" height="282" width="500" src="https://estream.lancaster.ac.uk/Embed.aspx?id=60912&amp;code=dI~CfhyvNW0bIOcdZjcPG96jHxIrFFtuA" frameborder="0" allowfullscreen=""></iframe>
<p><a href="Week11-files/stats_centeringAndStandardizing_theory_slides.pdf">Slides</a> <a href="Week11-files/stats_centeringAndStandardizing_theory_transcript.txt">Transcript</a></p>
</section>
<section id="sec-wk11-reading" class="level2">
<h2 class="anchored" data-anchor-id="sec-wk11-reading">Reading</h2>
<section id="miller-haden-2013" class="level3">
<h3 class="anchored" data-anchor-id="miller-haden-2013">Miller &amp; Haden (2013)</h3>
<p><a href="https://drive.google.com/file/d/0B1fyuTuvj3YoaFdUR3FZaXNuNXc/view"><strong>Link</strong></a></p>
<p><strong>Chapter 10</strong> gives you a brief overview of what correlation and regression are. <strong>Chapter 11</strong> introduces correlation in more detail. <strong>Chapters 12 and 14</strong> provide accessible overviews of simple and multiple regression, respectively. All these chapters are really short but provide a good basis to understanding. We consider this the minimum level of understanding you should acquire.</p>
</section>
<section id="winter-2020" class="level3">
<h3 class="anchored" data-anchor-id="winter-2020">Winter (2020)</h3>
<p><a href="https://eu.alma.exlibrisgroup.com/leganto/public/44LAN_INST/citation/83408786230001221?auth=SAML"><strong>Link</strong></a></p>
<p><strong>Chapter 4</strong> provides and excellent conceptual introduction to the linear model and also explains how this is implemented in R (highly recommended).</p>
<p><strong>Chapter 5</strong> takes a slightly different approach to the one taken in Miller &amp; Haden (2013) to introducing correlation. If you already understand the basic theory behind correlation, this will be an interesting read. Chapter 5 also clearly explains what centering and standardizing are and why you need to bother with these linear transformations.</p>
<p><strong>Chapter 6</strong> provides an excellent overview of multiple regression and also explains how this is implemented in R.</p>
</section>
</section>
<section id="sec-wk11-pre-labactvities" class="level2">
<h2 class="anchored" data-anchor-id="sec-wk11-pre-labactvities">Pre-lab activities</h2>
<p>After having watched the lectures and read the textbook chapters you’ll be in a good position to try these activities. Completing them before you attend your lab session will help you to consolidate your learning and help move through the lab activities more smoothly.</p>
<section id="pre-lab-activity-1-visualising-the-regression-line" class="level3">
<h3 class="anchored" data-anchor-id="pre-lab-activity-1-visualising-the-regression-line">Pre-lab activity 1: Visualising the regression line</h3>
<p>Have a look at <a href="https://ryansafner.shinyapps.io/ols_estimation_by_min_sse/"><strong>this visualisation of the regression line</strong></a> by Ryan Safner.</p>
<p>In this shiny app, you see a randomly-generated set of data points (within specific parameters, to keep the graph scaled properly). You can choose a slope and intercept for the regression line by using the sliders. The graph also displays the residuals as dashed red lines. Moving the slope or the intercept too much causes the generated line to create much larger residuals. The shiny app also calculates the sum of squared errors (SSE) and the standard error of the regression (SER), which calculates the average size of the error (the red numbers). These numbers reflect how well the regression line fits the data, but you don’t need to worry about those for now.</p>
<p>In the app he uses the equation Y = aX + b in which b is the intercept and a is the slope.</p>
<p>This is slightly different from the equation you saw during the lecture. There we talked about Y = b0 + b1*X + e. Same equation, just different letters. So b0 in the lecture is equivalent to b in the app and b1 in the lecture is equivalent to a in the app.</p>
<p>Pre-lab activity questions:</p>
<ol type="1">
<li>Change the slider for the intercept. How does it change the regression line?</li>
<li>Change the slider for the slope. How does it change the regression line?</li>
<li>What happens to the residuals (the red dashed lines) when you change the slope and the intercept of the regression line?</li>
</ol>
</section>
<section id="pre-lab-activity-2-data-wrangling-in-r" class="level3">
<h3 class="anchored" data-anchor-id="pre-lab-activity-2-data-wrangling-in-r">Pre-lab activity 2: Data-wrangling in R</h3>
<p>Data comes in lots of different formats. One of the most common formats is that of a two-dimensional table (the two dimensions being rows and columns). Usually, each row stands for a separate observation (e.g.&nbsp;a participant), and each column stands for a different variable (e.g.&nbsp;a response, category, or group). A key benefit of tabular data is that it allows you to store different types of data-numerical measurements, alphanumeric labels, categorical descriptors-all in one place.</p>
<p>It may surprise you to learn that scientists actually spend far more of time cleaning and preparing their data than they spend actually analysing it. This means completing tasks such as cleaning up bad values, changing the structure of tables, merging information stored in separate tables, reducing the data down to a subset of observations, and producing data summaries. Some have estimated that up to 80% of time spent on data analysis involves such data preparation tasks (Dasu &amp; Johnson, 2003)!</p>
<p>Many people seem to operate under the assumption that the only option for data cleaning is the painstaking and time-consuming cutting and pasting of data within a spreadsheet program like Excel. We have witnessed students and colleagues waste days, weeks, and even months manually transforming their data in Excel, cutting, copying, and pasting data. Fixing up your data by hand is not only a terrible use of your time, but it is error-prone and not reproducible. Additionally, in this age where we can easily collect massive datasets online, you will not be able to organise, clean, and prepare these by hand.</p>
<p><strong>In short, you will not thrive as a psychologist if you do not learn some key data wrangling skills.</strong> Although every dataset presents unique challenges, there are some systematic principles you should follow that will make your analyses easier, less error-prone, more efficient, and more reproducible.</p>
<p>Some of the functions you’ll need in this week’s lab activity are mentioned below. You’ve used these functions before, but the following <a href="https://posit.cloud/learn/recipes"><strong>recipes</strong></a> summarise what each one does and how to use it.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Recipes - How to use them
</div>
</div>
<div class="callout-body-container callout-body">
<p>Each ‘recipe’ has the same structure.</p>
<ol type="1">
<li>First, it summarises what it is that you want to achieve when using that specific function. <em>In the case of <code>select()</code> it says “You want to extract specific columns from a data frame and return them as a new, smaller data frame.”</em></li>
<li>Then, it outlines a number of steps that you need to carry out when using this function. <em>For <code>select()</code> it outlines 2 steps: 1. Pass the dataframe to the function. 2. List the column(s) to return.</em></li>
<li>Finally, there is an example talks you through using the function with some data. <em>For <code>select()</code> it uses an example with data on the weather.</em></li>
<li>Additional information appears in extra boxes with a light-bulb icon. If you find those confusing, don’t worry about them at this stage.</li>
</ol>
</div>
</div>
<blockquote class="blockquote">
<p><strong>TASK</strong> Have a look at each ‘recipe’ and read through it. Try to understand each step.</p>
</blockquote>
<ul>
<li><p>Under <strong>R Basics</strong>, have a look at the recipe to <strong>Read a CSV file</strong> or remind yourself how to make sure to <strong>Obey R’s naming rules</strong>. Of course, you are very welcome to review other recipes in this category as well.</p></li>
<li><p>Review the recipes in the <strong>Transform Tables</strong> category to remind yourself how to extract values from a table, calculate summary statistics, derive new variables and more by using <code>dplyr</code> verbs such as <code>select()</code>, <code>filter()</code>, <code>mutate()</code>, <code>rename()</code>, <code>group_by()</code> and <code>summarise()</code>.</p></li>
<li><p>Under <strong>Visualize Data</strong>, you’ll find recipes to create a histogram or a scatterplot (and much more).</p></li>
</ul>
<p>Please note that there are often different ways to do the same or similar things in R. This means you might encounter slightly different functions or styles of coding in different materials. This is not something to worry about. Just make sure you’re clear on what a bit of code achieves and choose the function/style that you feel most comfortable with.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the Posit recipes, you’ll see the function call for for instance <code>read_csv()</code> written as <code>readr::read_csv()</code>. This specifies the package or library the function is from (<code>readr</code>) as well as the function (<code>read_csv()</code>). As long as you have loaded the <code>tidyverse</code> library, you don’t need to load <code>readr</code> separately, because it is part of the <code>tidyverse</code> library. If you want to know more about the <code>tidyverse</code> library, see <a href="https://www.tidyverse.org/packages/">here</a>.</p>
</div>
</div>
</section>
<section id="pre-lab-activity-3-getting-ready-for-the-lab-class" class="level3">
<h3 class="anchored" data-anchor-id="pre-lab-activity-3-getting-ready-for-the-lab-class">Pre-lab activity 3: Getting ready for the lab class</h3>
<section id="remind-yourself-of-how-to-access-and-work-with-the-rstudio-server." class="level4">
<h4 class="anchored" data-anchor-id="remind-yourself-of-how-to-access-and-work-with-the-rstudio-server.">Remind yourself of how to access and work with the RStudio Server.</h4>
<ul>
<li>Revisit <a href="https://lu-psy-r.github.io/MSc/PSYC411/part1/Week1.html#workbook"><strong>PSYC411</strong></a> to remind yourself of how to access the RStudio Server.</li>
</ul>
</section>
<section id="get-your-files-ready" class="level4">
<h4 class="anchored" data-anchor-id="get-your-files-ready">Get your files ready</h4>
<p>Download the <a href="Week11-files/412_week11_lab.zip">412_week11_lab.zip</a> folder and upload the files into a new folder in RStudio Server.</p>
</section>
</section>
</section>
<section id="sec-wk11-labactivities" class="level2">
<h2 class="anchored" data-anchor-id="sec-wk11-labactivities">Lab activities</h2>
<!-- ::: {.callout-tip} -->
<!-- More information on this week's lab activities will be posted soon. -->
<!-- ::: -->
<p>In this lab, you’ll gain understanding of and practice with:</p>
<ul>
<li>when and why to apply simple and multiple regression to answer questions in psychological science</li>
<li>conducting multiple regression in R</li>
<li>interpreting the R output of simple and multiple linear regression</li>
<li>reporting results for simple and multiple linear regression following APA guidelines</li>
</ul>
<section id="lab-activity-1-interpreting-and-reporting-results" class="level3">
<h3 class="anchored" data-anchor-id="lab-activity-1-interpreting-and-reporting-results">Lab activity 1: Interpreting and reporting results</h3>
<p>Have a look at the R output below.</p>
<p><strong>R Output 1</strong></p>
<p><img src="Week11-files/w11_labAct1_output.png" class="img-fluid"></p>
<ol type="1">
<li>What is the outcome or dependent variable?</li>
<li>What is the predictor or independent variable?</li>
<li>Is the overall model significant?</li>
<li>How much variance does the model account for?</li>
</ol>
<p>Thinking about assumptions, what do you conlcude from the plots and output below?</p>
<ol start="5" type="1">
<li><p>Does the relationship appear linear?</p></li>
<li><p>Do the residuals show normality and homoscedasticity?</p></li>
</ol>
<p><strong>Scatterplot</strong></p>
<p><img src="Week11-files/w11_labAct1_scatterplot.png" class="img-fluid"></p>
<p><strong>QQ-plot</strong></p>
<p><img src="Week11-files/w11_labAct1_qqplot.png" class="img-fluid"></p>
<p><strong>R Output 2</strong></p>
<p><img src="Week11-files/w11_labAct1_output2.png" class="img-fluid"></p>
</section>
<section id="lab-activity-2-conducting-simple-and-multiple-regression" class="level3">
<h3 class="anchored" data-anchor-id="lab-activity-2-conducting-simple-and-multiple-regression">Lab activity 2: Conducting simple and multiple regression</h3>
<section id="background" class="level4">
<h4 class="anchored" data-anchor-id="background">Background</h4>
<p>Today, to help get a practical understanding of regression, you will be working with real data and using regression to explore the question of whether there is a relationship between voice acoustics and ratings of perceived trustworthiness.</p>
<section id="the-voice" class="level5">
<h5 class="anchored" data-anchor-id="the-voice">The Voice</h5>
<p>The prominent theory of voice production is the source-filter theory (Fant, 1960) which suggests that vocalisation is a two-step process: air is pushed through the larynx (vocal chords) creating a vibration, i.e.&nbsp;the source, and this is then shaped and moulded into words and utterances as it passes through the neck, mouth and nose, and depending on the shape of those structures at any given time you produce different sounds, i.e.&nbsp;the filter. One common measure of the source is pitch (otherwise called Fundamental Frequency or F0 (F-zero)) (Titze, 1994), which is a measure of the vibration of the vocal chords, in Hertz (Hz); males have on average a lower pitch than females for example. Likewise, one measure of the filter is called formant dispersion (measured again in Hz), and is effectively a measure of the length of someone’s vocal tract (or neck). Height and neck length are suggested to be negatively correlated with formant dispersion, so tall people tend to have smaller formant dispersion. So all in, the sound of your voice is thought to give some indication of what you look like.</p>
<p>More recently, work has focussed on what the sound of your voice suggests about your personality. McAleer, Todorov and Belin (2014) suggested that vocal acoustics give a perception of your trustworthiness and dominance to others, regardless of whether or not it is accurate. One extension of this is that trust may be driven by malleable aspects of your voice (e.g.&nbsp;your pitch) but not so much by static aspects of your voice (e.g.&nbsp;your formant dispersion). Pitch is considered malleable because you can control the air being pushed through your vocal chords (though you have no conscious control of your vocal chords), whereas dispersion may be controlled by the structure of your throat which is much more rigid due to muscle, bone, and other things that keep your head attached. This idea of certain traits being driven by malleable features and others by static features was previously suggested by Oosterhof and Todorov (2008) and has been tested with some validation by Rezlescu, Penton, Walsh, Tsujimura, Scott and Banissy (2015).</p>
<p>So, the research question today is: <strong>Can vocal acoustics, namely pitch and formant dispersion, predict perceived trustworthiness from a person’s voice?</strong> We will only look at male voices today, but you have the data for female voices as well should you wish to practice (note that in the field, tendency is to analyse male and female voices separately as they are effectively sexually dimorphic). As such, we hypothesise that a linear combination of pitch and dispersion will predict perceived vocal trustworthiness in male voices. This is what we will analyse.</p>
<p>To complete this lab activity, you can use the R-script (412_wk11_labAct2.R) that you downloaded as part of the ‘pre-lab activities’ as a template. Work through the activity below, adding relevant bits of code to your script as you go along.</p>
</section>
</section>
<section id="step-1-background-and-set-up" class="level4">
<h4 class="anchored" data-anchor-id="step-1-background-and-set-up">Step 1: Background and set up</h4>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Set your working directory
</div>
</div>
<div class="callout-body-container callout-body">
<p>The folder you were asked to download under ‘Pre-lab activity 3: Getting ready for the lab class’ contains the data files we’ll need. Make sure you have set your working directory to this folder by right-clicking on it and selecting ‘Set as working directory’.</p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Empty the R environment
</div>
</div>
<div class="callout-body-container callout-body">
<p>Before you do anything else, when starting a new analysis, it is a good idea to empty the R environment. This prevents objects and variables from previous analyses interfering with the current one. Use the code snippet below to clear the environment.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you hover your mouse over the box that includes the code snippet, a ‘copy to clipboard’ icon will appear in the top right corner of the box. Click that to copy the code. Now you can easily paste it into your script.</p>
</div>
</div>
<p>Before we can get started we need to tell R which libraries to use. For this analysis we’ll need <code>broom</code>, <code>car</code>, and <code>tidyverse</code>.</p>
<blockquote class="blockquote">
<p><strong>TASK</strong>: Load the relevant libraries. If you are unsure how to do that, you can look at the ‘Hint’ below for a clue by expanding it. After that, if you are still unsure, you can view the code by expanding the ‘Code’ section below.</p>
</blockquote>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Use the <code>library()</code> function.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Code
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The code to do this is below.</p>
<pre><code>library(broom)
library(car)
library(tidyverse)</code></pre>
</div>
</div>
</div>
<p>In this lab, we are setting out to test whether a linear combination of pitch and dispersion will predict perceived vocal trustworthiness in male voices. We’ll be working with two data files:</p>
<ul>
<li>voice_acoustics.csv - shows the VoiceID, the sex of the voice, and the pitch and dispersion values</li>
<li>voice_ratings.csv - shows the VoiceID and the ratings of each voice by 28 participants on a scale of 1 to 9 where 9 was extremely trustworthy and 1 was extremely untrustworthy.</li>
</ul>
<blockquote class="blockquote">
<p><strong>TASK</strong>: Read in both files, have a look at the layout of the data and familiarise yourself with it. The ratings data is rather messy and in a different layout to the acoustics but can you tell what is what?</p>
</blockquote>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Use the <code>read_csv()</code> function.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Code
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The code to do this is below.</p>
<pre><code>acoustics &lt;- read_csv("voice_acoustics.csv")
ratings &lt;- read_csv("voice_ratings.csv")</code></pre>
</div>
</div>
</div>
<blockquote class="blockquote">
<p><strong>QUESTION 1</strong> How are the acoustics data and the ratings data organised (wide or long)? Are both data files ‘tidy’? If you need more info on what that means, have a look <a href="https://r4ds.had.co.nz/tidy-data.html"><strong>here</strong></a>.</p>
</blockquote>
</section>
<section id="step-2-restructuring-the-ratings-data" class="level4">
<h4 class="anchored" data-anchor-id="step-2-restructuring-the-ratings-data">Step 2: Restructuring the ratings data</h4>
<p>We are going to need to do some data-wrangling before we do any analysis! Specifically, we need the change the ratings data to the long format.</p>
<p>Here we’ll use the <code>pivot_longer()</code> function (see <a href="https://r4ds.hadley.nz/data-tidy.html"><strong>here</strong></a> or type <code>?pivot_longer</code> in the Console for more info) to restructure the ratings data from wide to long and store the resulting table as ‘ratings_tidy’.</p>
<blockquote class="blockquote">
<p><strong>TASK</strong>: Use the code snippet below to restructure the data. Have a look at each line of code (and the comments in green) and check that you understand how it works.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>ratings_tidy <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> ratings,    <span class="co"># the data you want to restructure</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">cols =</span> P1<span class="sc">:</span>P28,     <span class="co"># columns you want to restructure</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_to =</span> <span class="st">"participant"</span>, <span class="co"># variable name that captures whatever is across the columns</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># (in this case P1 to P28 for the 28 different participants)</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_to =</span> <span class="st">"rating"</span>) <span class="co"># variable name that captures whatever is in the cells</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># (in this case numbers for ratings)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="step-3-calculate-mean-trustworthiness-rating-for-each-voice" class="level4">
<h4 class="anchored" data-anchor-id="step-3-calculate-mean-trustworthiness-rating-for-each-voice">Step 3: Calculate mean trustworthiness rating for each voice</h4>
<p>Now that we have the ratings data into a tidy format, the next step is to calculate the mean rating for each voice. Remember that each voice is identified by the ‘VoiceID’ variable.</p>
<blockquote class="blockquote">
<p><strong>TASK</strong>: Calculate the mean rating for each voice and store the resulting table in a variable named ‘ratings_mean’.</p>
</blockquote>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Use <code>group_by()</code> and <code>summarise()</code>. Are you using the tidy data? Also, remember that if there are any missing values (NAs) then na.rm = TRUE would help.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Code
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<pre><code>ratings_mean &lt;- ratings_tidy %&gt;%
  group_by(VoiceID) %&gt;%
  summarise(mean_rating = mean(rating))</code></pre>
</div>
</div>
</div>
</section>
<section id="step-4-join-the-data-together" class="level4">
<h4 class="anchored" data-anchor-id="step-4-join-the-data-together">Step 4: Join the data together</h4>
<p>Ok, before we get ahead of ourselves, in order to perform the regression analysis we need to combine the data from ‘ratings_mean’ (the mean ratings) with ‘acoustics’ (the pitch and dispersion ratings). Also, as we said, we only want to analyse male voices today.</p>
<blockquote class="blockquote">
<p><strong>TASK</strong>: Join the two tables and keep only the data for the male voices, call the resulting table ‘joined’.</p>
</blockquote>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Use the <code>inner_join()</code> function (making use of the variable that is common across both tables) to join. See <a href="https://r4ds.hadley.nz/joins.html"><strong>here</strong></a> or type <code>?inner_join</code> in the Console for more info. Use the <code>filter()</code> function to only keep male voices. Remember that the Boolean operator for exactly equal is <code>==</code>.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Code
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<pre><code>joined &lt;- ratings_mean %&gt;%
  inner_join(acoustics, "VoiceID") %&gt;%
  filter(sex == "M")</code></pre>
</div>
</div>
</div>
</section>
<section id="step-5-spreading-the-data" class="level4">
<h4 class="anchored" data-anchor-id="step-5-spreading-the-data">Step 5: Spreading the data</h4>
<p>We are starting to get an understanding of our data and we want to start thinking about the regression. However, the regression would be easier to work with if Pitch and Dispersion were in separate columns. This can be achieved using the <code>pivot_wider()</code> function (see <a href="https://tidyr.tidyverse.org/reference/pivot_wider.html"><strong>here</strong></a> or type <code>?pivot_wider</code> in the Console for more info). This is basically the inverse of <code>pivot_longer()</code>. It increases the number of columns and decreases the number of rows.</p>
<blockquote class="blockquote">
<p><strong>TASK</strong>: Use the code snippet below to spread the data. Have a look at each line of code (and the comments in green) and check that you understand how it works.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>joined_wide <span class="ot">&lt;-</span> joined <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> measures, <span class="co"># name of the categorical column to spread</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> value) <span class="co"># name of the data to spread</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p><strong>QUESTION 2</strong> Why do we not need to specify within the <code>pivot_wider()</code> function which data to use?</p>
</blockquote>
</section>
<section id="step-6-visualising-the-data" class="level4">
<h4 class="anchored" data-anchor-id="step-6-visualising-the-data">Step 6: Visualising the data</h4>
<p>As always, it is a good idea to visualise your data.</p>
<blockquote class="blockquote">
<p><strong>TASK</strong>: Now that we have all the variables in one place, make two scatterplots, one of mean trustworthiness rating with dispersion and one for mean trustworthiness rating and pitch.</p>
</blockquote>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint 1
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>For this you’ll need the <code>ggplot()</code> function together with <code>geom_point()</code> and <code>geom_smooth()</code>. Make sure to give your axes some sensible labels.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint 2
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Below is a template for the code. Make sure to specify the data frame and the relevant variables.</p>
<pre><code>ggplot(DATA, aes(x = variable X, y = variable Y)) +
  geom_point() +
  geom_smooth(method = "lm") +
  theme_bw() +
  labs (y = "Label for variable Y")</code></pre>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Code
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<pre><code>ggplot(joined_wide, aes(x = Dispersion, y = mean_rating)) +
  geom_point() +
  geom_smooth(method = "lm") +
  theme_bw() +
  labs (y = "Mean Trustworthiness Rating")

ggplot(joined_wide, aes(x = Pitch, y = mean_rating)) +
  geom_point() +
  geom_smooth(method = "lm") +
  theme_bw() +
  labs (y = "Mean Trustworthiness Rating")</code></pre>
</div>
</div>
</div>
<blockquote class="blockquote">
<p><strong>QUESTION 3</strong> Looking at the scatterplots, how would you describe the relationships between trustworthiness and dispersion and trustworthiness and pitch in terms of direction and strength? Which one of the two seems stronger?</p>
</blockquote>
</section>
<section id="step-7-conducting-and-interpreting-simple-regression" class="level4">
<h4 class="anchored" data-anchor-id="step-7-conducting-and-interpreting-simple-regression">Step 7: Conducting and interpreting simple regression</h4>
<p>With all the variables in place and having gained a better understanding of our data by inspecting the scatterplots, we’re ready now to start building two simple linear regression models:</p>
<ol type="1">
<li><p>Predicting trustworthiness mean ratings from Pitch</p></li>
<li><p>Predicting trustworthiness mean ratings from Dispersion</p></li>
</ol>
<blockquote class="blockquote">
<p><strong>TASK</strong>: Use the <code>lm()</code> function to run the following two regression models and use the <code>summary()</code> function to look at the output of each model. Store the first model in a table called ‘mod_pitch’ and store the second model in ‘mod_disp’.</p>
</blockquote>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-18-contents" aria-controls="callout-18" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-18-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Below is a template for the code. Make sure to specify the data frame and the relevant variables.</p>
<pre><code>lm(dv ~ iv, data = my_data)</code></pre>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-19-contents" aria-controls="callout-19" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Code
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-19" class="callout-19-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<pre><code>mod_disp &lt;- lm(mean_rating ~ Dispersion, joined_wide)
mod_disp_sum &lt;- summary(mod_disp)

mod_pitch &lt;- lm(mean_rating ~ Pitch, joined_wide)
mod_pitch_sum &lt;- summary(mod_pitch)</code></pre>
</div>
</div>
</div>
<blockquote class="blockquote">
<p><strong>QUESTION 4</strong> What do you conclude from the output of these models? Which model is significant? Which predictors are significant? How much variance does each model describe?</p>
</blockquote>
</section>
<section id="step-8-conducting-and-interpreting-multiple-regression" class="level4">
<h4 class="anchored" data-anchor-id="step-8-conducting-and-interpreting-multiple-regression">Step 8: Conducting and interpreting multiple regression</h4>
<p>Now let’s look at both predictors in the same model. Before we do this, it is sensible to center and standardise the predictors.</p>
<p>Look at the code below. Can you follow how the predictors are first centered (_c) and then standardised (_z)?</p>
<p>Here I do this by hand because I think it makes it clearer, even though there are functions that do this in one step (<code>scale()</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>joined_wide <span class="ot">&lt;-</span> <span class="fu">mutate</span>(joined_wide,</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">Dispersion_c =</span> Dispersion <span class="sc">-</span> <span class="fu">mean</span>(Dispersion),</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">Dispersion_z =</span> Dispersion_c <span class="sc">/</span> <span class="fu">sd</span>(Dispersion_c),</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">Pitch_c =</span> Pitch <span class="sc">-</span> <span class="fu">mean</span>(Pitch),</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">Pitch_z =</span> Pitch_c <span class="sc">/</span> <span class="fu">sd</span>(Pitch_c))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p><strong>TASK</strong>: Now use the centered and standardised data for the multiple regression. Use the <code>lm()</code> function to run a model for predicting trustworthiness mean ratings from Pitch and Dispersion, and store the model in ‘mod_pitchdisp_z’. Use the ‘summary()’ function to look at the output.</p>
</blockquote>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-20-contents" aria-controls="callout-20" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-20" class="callout-20-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Below is a template for the code. Make sure to specify the data frame and the relevant variables.</p>
<pre><code>lm(dv ~ iv1 + iv2, data = my_data)</code></pre>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-21-contents" aria-controls="callout-21" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Code
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-21-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<pre><code>mod_pitchdisp_z &lt;- lm(mean_rating ~ Pitch_z + Dispersion_z, joined_wide)
mod_pitchdisp_z_sum &lt;- summary(mod_pitchdisp_z)</code></pre>
</div>
</div>
</div>
<blockquote class="blockquote">
<p><strong>QUESTION 5</strong> What do you conclude from the output of this model? Is the overall model significant? Which predictors are significant? How much variance does the model describe? Which model would you say is best for predicting ratings of trustworthiness, the Pitch only, the Dispersion only or the Pitch+Dispersion model?</p>
</blockquote>
</section>
<section id="step-9-checking-assumptions" class="level4">
<h4 class="anchored" data-anchor-id="step-9-checking-assumptions">Step 9: Checking assumptions</h4>
<p>Now that we’ve established which model best fits the data, let’s check whether it meets the assumptions of linearity, normality and homoscedasticity.</p>
<blockquote class="blockquote">
<p><strong>TASK</strong>: Check the assumptions of linearity, normality and homoscedasticity.</p>
</blockquote>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-22-contents" aria-controls="callout-22" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-22" class="callout-22-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>You can use the <code>crPlots()</code> and the <code>qqPlot()</code> functions to check linearity. The <code>shapiro.test()</code> can be used to check normality of the residuals and the <code>residualPlot()</code> and <code>nvcTest()</code> functions to check homoscedasticity of the residuals. These plots are from base R rather than using the <code>ggplot()</code> function. See <a href="https://r4ds.hadley.nz/base-r#plots"><strong>here</strong></a> for a brief explanation of base R plots and why you might want to use them.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-23-contents" aria-controls="callout-23" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Code
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-23" class="callout-23-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<pre><code>crPlots(mod_pitch)

qqPlot(mod_pitch$residuals)
shapiro.test(mod_pitch$residuals)

residualPlot(mod_pitch)
ncvTest(mod_pitch)</code></pre>
</div>
</div>
</div>
<blockquote class="blockquote">
<p><strong>QUESTION 6</strong> What do you conclude from the graphs and output? Should we also check for collinearity?</p>
</blockquote>
</section>
<section id="step-10-writing-up-the-results" class="level4">
<h4 class="anchored" data-anchor-id="step-10-writing-up-the-results">Step 10: Writing up the results</h4>
<blockquote class="blockquote">
<p><strong>TASK</strong>: Write up the results following APA guidelines.</p>
</blockquote>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-24-contents" aria-controls="callout-24" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-24" class="callout-24-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The <a href="https://owl.purdue.edu/owl/research_and_citation/apa_style/apa_formatting_and_style_guide/apa_numbers_statistics.html"><strong>Purdue writing lab website</strong></a> is helpful for guidance on punctuating statistics. The <a href="https://apastyle.apa.org/instructional-aids/numbers-statistics-guide.pdf"><strong>APA Style 7th Edition Numbers and Statistics Guide</strong></a> is also useful.</p>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="sec-wk11-answers" class="level2">
<h2 class="anchored" data-anchor-id="sec-wk11-answers">Answers</h2>
<p>When you have completed all of the lab content, you may want to check your answers with our completed version of the script for this week. <strong>Remember</strong>, looking at this script (studying/revising it) does not replace the process of working through the lab activities, trying them out for yourself, getting stuck, asking questions, finding solutions, adding your own comments, etc. <strong>Actively engaging</strong> with the material is the way to learn these analysis skills, not by looking at someone else’s completed code…</p>
<!-- The answers to the questions and the script containing the code will be available after the lab session has taken place. -->
<section id="lab-activity-1-interpreting-and-reporting-results-1" class="level3">
<h3 class="anchored" data-anchor-id="lab-activity-1-interpreting-and-reporting-results-1">Lab activity 1: Interpreting and reporting results</h3>
<ol type="1">
<li>What is the outcome or dependent variable? <strong>Word reading</strong></li>
<li>What is the predictor or independent variable? <strong>Non-word reading</strong></li>
<li>Is the overall model significant? <strong>Yes, <em>F</em>(1,50) = 69.03, <em>p</em> &lt; .001</strong></li>
<li>How much variance does the model account for? <strong>58%</strong></li>
<li>Does the relationship appear linear? <strong>Yes. The dots and the pink line assemble quite closely on the dashed line.</strong></li>
<li>Do the residuals show normality and homoscedasticity? <strong>The qq-plot suggests that the residuals are normally distributed as the dots fall close to the solid blue line and within the range of the dashed blue lines. The Shapiro-Wilk test of normality confirms this (it is not significant). Similarly, the output of the non-constant variance score tests is not significant suggesting that the residuals are homoscedastic.</strong></li>
</ol>
</section>
<section id="lab-activity-2-conducting-simple-and-multiple-regression-1" class="level3">
<h3 class="anchored" data-anchor-id="lab-activity-2-conducting-simple-and-multiple-regression-1">Lab activity 2: Conducting simple and multiple regression</h3>
<p>You can download the R-script that includes the relevant code and answers to the questions here: <a href="Week11-files/412_wk11_labAct2_withAnswers.R">412_wk11_labAct2_withAnswers.R</a>.</p>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../PSYC411/part2/lm-dev.html" class="pagination-link" aria-label="Week 10. Developing the linear model">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Week 10. Developing the linear model</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../PSYC412/part1/Week12.html" class="pagination-link" aria-label="Week 12. Categorical predictors">
        <span class="nav-page-text">Week 12. Categorical predictors</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Website developed by Matthew Ivory</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../previous-content/index.html">
<p>Previous Content</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>